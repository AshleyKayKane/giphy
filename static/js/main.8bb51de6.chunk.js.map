{"version":3,"sources":["components/Loader.jsx","components/Paginate.jsx","components/Giphy.jsx","App.jsx","index.js"],"names":["Loader","className","Paginate","props","pageNumbers","i","Math","ceil","totalItems","itemsPerPage","push","map","number","classes","currentPage","onClick","pageSelected","href","Giphy","useState","data","setData","search","setSearch","isLoading","setIsLoading","isError","setIsError","setCurrentPage","indexOfLastItem","indexOfFirstItem","currentItems","slice","useEffect","a","axios","params","api_key","q","limit","results","console","log","setTimeout","fetchData","handleSubmit","event","preventDefault","role","renderError","src","alt","value","onChange","target","type","placeholder","pageNumber","length","el","images","fixed_height","url","id","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8bb51de6.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <i className=\"fas fa-spinner fa-4x fa-spin\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst Paginate = props => {\r\n  const pageNumbers = [];\r\n\r\n  for (let i = 1; i <= Math.ceil(props.totalItems / props.itemsPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination pagination-sm justify-content-end border-0\">\r\n        {pageNumbers.map(number => {\r\n          let classes = \"page-item \";\r\n          if (number === props.currentPage) {\r\n            classes += \"active\";\r\n          }\r\n\r\n          return (\r\n            <li className={classes}>\r\n              <a\r\n                onClick={() => props.pageSelected(number)}\r\n                href=\"!#\"\r\n                className=\"page-link\"\r\n              >\r\n                {number}\r\n              </a>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Loader from \"./Loader\";\r\nimport Paginate from \"./Paginate\";\r\n\r\nconst Giphy = () => {\r\n  const [data, setData] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(25);\r\n  const indexOfLastItem = currentPage * itemsPerPage;\r\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n  const currentItems = data.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n  //page 1 item 1 - item 25\r\n  //page 2 item 26 - item 50\r\n  //page 3 item 51 - item 75\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsError(false);\r\n      setIsLoading(true);\r\n\r\n      try {\r\n        const results = await axios(\"https://api.giphy.com/v1/gifs/search\", {\r\n          params: {\r\n            api_key: \"umO3ItRF44QY63vHQ5Mf8I3CreXiIaop\",\r\n            q:\"the office\",\r\n            limit: 100\r\n          }\r\n        });\r\n\r\n        console.log(results);\r\n        setData(results.data.data);\r\n      } catch (err) {\r\n        setIsError(true);\r\n        setTimeout(() => setIsError(false), 4000);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const renderGifs = () => {\r\n    if (isLoading) {\r\n      return <Loader />;\r\n    }\r\n    return currentItems.map(el => {\r\n      return (\r\n        <div key={el.id} className=\"gif\">\r\n          <img src={el.images.fixed_height.url} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  const renderError = () => {\r\n    if (isError) {\r\n      return (\r\n        <div\r\n          className=\"alert alert-danger alert-dismissible fade show\"\r\n          role=\"alert\"\r\n        >\r\n          Unable to get Gifs, please try again in a few minutes\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = event => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n    setIsError(false);\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const results = await axios(\"https://api.giphy.com/v1/gifs/search\", {\r\n        params: {\r\n          api_key: \"umO3ItRF44QY63vHQ5Mf8I3CreXiIaop\",\r\n          q: search,\r\n          limit: 100\r\n        }\r\n      });\r\n      setData(results.data.data);\r\n    } catch (err) {\r\n      setIsError(true);\r\n      setTimeout(() => setIsError(false), 4000);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n\r\n  const pageSelected = pageNumber => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <div className=\"m-2\">\r\n      {renderError()}\r\n     <div className=\"row mt-2 mx-lg-5 d-flex justify-content-around\">\r\n     <div className=\"col-lg-2 mb-3\"> <img src={\"/logo192.png\"} alt={\"react logo\"} className=\"logo\"/></div>\r\n     <form className=\"form-inline col-lg-4 m-2 justify-content-center\">\r\n        <input\r\n          value={search}\r\n          onChange={handleSearchChange}\r\n          type=\"text\"\r\n          placeholder=\"search\"\r\n          className=\"form-control w-75\"\r\n        />\r\n        <button\r\n          onClick={handleSubmit}\r\n          type=\"submit\"\r\n          className=\"btn btn-primary mx-2\"\r\n        >\r\n          Go\r\n        </button>\r\n      </form>\r\n     <div className=\"col-2 m-lg-5 justify-content-center\">\r\n     <Paginate\r\n        pageSelected={pageSelected}\r\n        currentPage={currentPage}\r\n        itemsPerPage={itemsPerPage}\r\n        totalItems={data.length}\r\n      />\r\n     </div>\r\n     </div>\r\n      <div className=\"container gifs\">{renderGifs()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Giphy;\r\n","import React from \"react\";\r\nimport Giphy from \"./components/Giphy\";\r\nimport \"./App.css\";\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Giphy />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}